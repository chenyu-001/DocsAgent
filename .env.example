# ============================================
# DocsAgent 环境变量配置
# 复制此文件为 .env 并修改相应值
# ============================================

# -------------------- 数据库配置 --------------------
POSTGRES_DB=docsagent
POSTGRES_USER=docsagent
POSTGRES_PASSWORD=your_strong_password_here  # ⚠️ 生产环境必须修改
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# -------------------- Qdrant 向量数据库 --------------------
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=documents

# -------------------- JWT 认证 --------------------
# 生成方式: openssl rand -hex 32
JWT_SECRET_KEY=your-secret-key-please-change-this-in-production  # ⚠️ 生产环境必须修改
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24小时

# -------------------- 嵌入模型配置 --------------------
# 模型类型: huggingface | openai
EMBEDDING_MODEL_TYPE=huggingface

# BGE 中文嵌入模型（推荐）
EMBEDDING_MODEL_NAME=BAAI/bge-large-zh-v1.5
EMBEDDING_DIMENSION=1024
EMBEDDING_DEVICE=cpu  # cpu | cuda

# Hugging Face 镜像（可选，国内用户推荐）
# HF_ENDPOINT=https://hf-mirror.com

# 或使用 OpenAI Embeddings
# EMBEDDING_MODEL_TYPE=openai
# EMBEDDING_MODEL_NAME=text-embedding-3-large
# EMBEDDING_DIMENSION=3072
# OPENAI_API_KEY=sk-xxx

# -------------------- LLM 配置 --------------------
# 模型类型: qwen | openai | claude | custom
LLM_TYPE=qwen

# Qwen（通义千问）配置 - 默认
LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
LLM_API_KEY=sk-xxx  # ⚠️ 必须配置才能使用问答功能
LLM_MODEL_NAME=qwen-plus  # qwen-plus | qwen-turbo | qwen-max

# 或使用 OpenAI
# LLM_TYPE=openai
# LLM_BASE_URL=https://api.openai.com/v1
# LLM_API_KEY=sk-xxx
# LLM_MODEL_NAME=gpt-4o-mini

# 或使用 Claude
# LLM_TYPE=claude
# LLM_BASE_URL=https://api.anthropic.com
# LLM_API_KEY=sk-ant-xxx
# LLM_MODEL_NAME=claude-3-5-sonnet-20241022

# 或使用自定义 OpenAI 兼容接口
# LLM_TYPE=custom
# LLM_BASE_URL=http://your-server:8000/v1
# LLM_API_KEY=xxx
# LLM_MODEL_NAME=your-model-name

# -------------------- 文件上传配置 --------------------
STORAGE_PATH=/app/storage
MAX_UPLOAD_SIZE=52428800  # 50MB (bytes)
ALLOWED_EXTENSIONS=pdf,docx,pptx,xlsx,txt,md

# -------------------- 应用配置 --------------------
BACKEND_PORT=8000
FRONTEND_PORT=3000
DEBUG=false
LOG_LEVEL=INFO  # DEBUG | INFO | WARNING | ERROR

# -------------------- 多租户配置 --------------------
DEFAULT_TENANT_ID=00000000-0000-0000-0000-000000000001
TENANT_ISOLATION_MODE=namespace  # namespace | database

# -------------------- 可选：Reranker 配置 --------------------
# 是否启用重排序（实验性功能）
ENABLE_RERANKER=false
RERANKER_MODEL_NAME=BAAI/bge-reranker-large
